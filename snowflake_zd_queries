// TICKETS - MOST RECENT //
SELECT MAX(CREATED_AT)
FROM ZENDESK.TICKET

// TICKETS - OLDEST TICKET//
SELECT MIN(CREATED_AT)
FROM ZENDESK.TICKET


SELECT COUNT(ID) 
FROM ZENDESK.TICKET

// KNOWLEDGE - TOTAL NUMBER OF ARTICLES //
SELECT COUNT(ID) FROM ZENDESK.ARTICLE

// QUALITY - SATISFACTION RATING GROUPED BY SCORE //
SELECT COUNT(SCORE), SCORE
FROM ZENDESK.SATISFACTION_RATING
GROUP BY SCORE ORDER BY COUNT(SCORE)

SELECT MIN(CREATED_AT)
FROM ZENDESK.SATISFACTION_RATING

SELECT MAX(CREATED_AT)
FROM ZENDESK.SATISFACTION_RATING

// QUALITY - RETURNS BAD SURVEYS BY SE, TICKETID PAST 30 DAYS //
SELECT U.ID, U.NAME, SR.CREATED_AT, SR.TICKET_ID, SR.SCORE, SR.REASON 
FROM ZENDESK.USER U, ZENDESK.SATISFACTION_RATING SR
WHERE U.ID = SR.ASSIGNEE_ID
AND SCORE = 'bad'
AND SR.CREATED_AT >= CURRENT_DATE - INTERVAL'30 day'
ORDER BY SR.CREATED_AT DESC

SELECT *
FROM ZENDESK.TICKET_CUSTOM_FIELD

SELECT * 
FROM ZENDESK.TICKET_TAG

// QUERY TO LOOKUP COLUMNS AND TABLES //
SELECT COLUMN_NAME, TABLE_NAME
FROM INFORMATION_SCHEMA.COLUMNS
WHERE TABLE_SCHEMA = 'ZENDESK'
AND COLUMN_NAME LIKE 'CUSTOM_%_VERSION'

// CUSTOM TICKET VERSION -- return custom attributes by org //
SELECT O.NAME AS "ORG NAME", O.URL, 0.CREATED_AT, 0.UPDATED_AT,
T.CUSTOM_BOUNDARY_VERSION, T.CUSTOM_CONSUL_VERSION, T.CUSTOM_CONSUL_K_8_S_VERSION,
T.CUSTOM_NOMAD_VERSION,T.CUSTOM_TERRAFORM_CLI_VERSION, T.CUSTOM_TERRAFORM_CDK_VERSION,
T.CUSTOM_TERRAFORM_ENTERPRISE_VERSION
FROM ZENDESK.TICKET T, ZENDESK.ORGANIZATION O
WHERE T.ORGANIZATION_ID=O.ID
ORDER BY O.NAME ASC

SELECT current_timestamp
from dual

select * from zendesk.ticket


select * from zendesk.user
where name = 'Jackson Gee'
// 5203916375699 //


// OPERATIONAL - JGEE'S ZD TICKETS Q4FY24 //
select T.CUSTOM_OPS_COMPONENT, COUNT(T.ID)
from zendesk.ticket t, zendesk.organization O
WHERE T.ORGANIZATION_ID=O.ID
and T.ASSIGNEE_ID = 5203916375699 //JGEE'S USERID//
and VIA_SOURCE_TO_ADDRESS = 'support-enablement@hashicorp.com'
and T.CREATED_AT BETWEEN '2023-11-01' and '2024-01-26'
GROUP BY ALL 




SELECT * 
from ZENDESK.TICKET_CUSTOM_FIELD
WHERE TITLE like '%Ticket%'

SELECT max(created_at)
FROM ZENDESK.ARTICLE





